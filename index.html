<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <title>Shopping List</title>
  </head>
  <body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">Navbar</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Features</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Pricing</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link disabled">Disabled</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
          <style>
            .butn{
                margin-top: 100px;
                margin-left: 200px;
            }
            
            
          </style>
    </header>
    <main>
        
        <div class = "container mt-5 col-6"> 
          <div class="input-group mb-3">
            <input type="text" id="user_input" class="form-control" placeholder="Add Items" aria-label="Recipient's username" aria-describedby="button-addon2">
            <button class="btn btn-outline-success" id="add-btn" type="button" id="button-addon2">Add</button>
          </div>

            <ul class="list-group" id="add_list" >
              
                <li class="list-group-item d-flex justify-content-between " > 
                  <h3 class="flex-grow-1"> Demo Item</h3>
                  <button class ="btn btn-warning mx-1" onclick="editItem(this)" id="BTE"> Edit </button>
                  <button class ="btn btn-danger" onclick="removeItem(this)" id="BTR" >Remove</button>
                </li>
            </ul>

        </main>
            
            
         
        </div>
        <script>
           let btn = document.getElementById("add-btn")
           btn.addEventListener('click', itemList)
           
           let x= document.getElementById("add_list")
           let text = document.getElementById("user_input").value
            function itemList(arg){
                if(x.children[0].className =="emptyMsg"){
                  x.children[0].remove()
                }
                let node = document.createElement("li");
                //let btnR = document.createElement("button");
               // let btnE = document.createElement("button");
                let text = document.getElementById("user_input").value;
                node.className ="list-group-item d-flex justify-content-between"

                node.innerHTML =`<h3 class="flex-grow-1"> ${text}</h3>
                  <button class ="btn btn-warning mx-1" onclick="editItem(this)">Edit </button>
                  <button class ="btn btn-danger" onclick="removeItem(this)">Remove</button>`
                ////node.classList.add("list-group-item");
                //btnE.classList.add("BTE");
               // btnR.classList.add("BTR");
                
                ////node.textContent = text;
               // node.appendChild(btnE);
               // btnE.textContent="remove";
                //node.appendChild(btnR);
                x.appendChild(node);
                
                
               }
               

            function removeItem(currElement){
              (currElement.parentElement).remove()
              if(x.children.length<=0){
                let newEmptyMsg = document.createElement("h3")
                newEmptyMsg.classList.add("emptyMsg")
                newEmptyMsg.textContent = "Please Add Something"
                x.appendChild(newEmptyMsg)
              }

            }

            function editItem(currElement){
              if(currElement.textContent == "Done"){
                currElement.textContent = "Edit"  
                let currItemName = currElement.previousElementSibling.value
                let currHeading = document.createElement("h3")
                currHeading.className ="flex-grow-1"
                currHeading.textContent = currItemName
                currElement.parentElement.replaceChild(currHeading,currElement.previousElementSibling)


              }else{
                currElement.textContent = "Done"
                let currItemName = currElement.previousElementSibling.textContent
                let currInput = document.createElement("input")
                currInput.type = "text"
                currInput.placeholder = "Add Item"
                currInput.className = "form-control"
                currInput.value = currItemName
                currElement.parentElement.replaceChild(currInput,currElement.previousElementSibling)

              }
             





              

            }  




        </script>
        
    
  </body>
</html>
